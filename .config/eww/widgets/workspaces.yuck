(defpoll workspace-json 
	:interval "1s"
	"i3-msg -t get_workspaces")

(defwidget workspaces [monitor]
	(box
		:class "container workspaces"
		:orientation "h"
		:halign "start"
		:spacing 10

		(for ws in workspace-json
			(button 
				:class {ws.focused ? "focused" : ws.visible ? "selected" : "" }
				:visible {monitor == ws.output ? true : false }
				:onclick "i3 workspace number ${ws.num}" '${ws.num}'
			)
		)
	)
)
